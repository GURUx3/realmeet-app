{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/guru_21/real-meet/client/launch-ui/lib/utils.ts"],"sourcesContent":["import { type ClassValue,clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/guru_21/real-meet/client/launch-ui/app/meeting/%5Bcode%5D/MeetingSidebar.tsx"],"sourcesContent":["import { MessageSquare, Paperclip, X, Send } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface SidebarProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    activeTab: 'chat' | 'files';\r\n    setActiveTab: (tab: 'chat' | 'files') => void;\r\n    chatMessages: Array<{ sender: string, message: string, timestamp: Date, id: string }>;\r\n    chatInput: string;\r\n    setChatInput: (input: string) => void;\r\n    onSendMessage: (message: string) => void;\r\n    unreadCount: number;\r\n}\r\n\r\nexport default function MeetingSidebar({\r\n    isOpen,\r\n    onClose,\r\n    activeTab,\r\n    setActiveTab,\r\n    chatMessages,\r\n    chatInput,\r\n    setChatInput,\r\n    onSendMessage,\r\n    unreadCount\r\n}: SidebarProps) {\r\n\r\n    const handleSendMessage = () => {\r\n        if (chatInput.trim()) {\r\n            onSendMessage(chatInput);\r\n            setChatInput('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={cn(\r\n            \"absolute top-0 right-0 h-full z-30 transition-transform duration-300 ease-in-out flex flex-col\",\r\n            isOpen ? \"translate-x-0\" : \"translate-x-full\",\r\n            \"w-80 bg-black/60 backdrop-blur-xl border-l border-white/10\"\r\n        )}>\r\n            {/* Sidebar Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-white/10 shrink-0\">\r\n                <div className=\"flex gap-2\">\r\n                    <button\r\n                        onClick={() => setActiveTab('chat')}\r\n                        className={cn(\r\n                            \"relative px-4 py-2 rounded-lg text-sm font-medium transition-all\",\r\n                            activeTab === 'chat'\r\n                                ? \"bg-white/20 text-white\"\r\n                                : \"text-white/60 hover:text-white hover:bg-white/10\"\r\n                        )}\r\n                    >\r\n                        <MessageSquare className=\"h-4 w-4 inline mr-2\" />\r\n                        Chat\r\n                        {unreadCount > 0 && activeTab !== 'chat' && (\r\n                            <span className=\"absolute -top-1 -right-1 flex h-3 w-3\">\r\n                                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\r\n                                <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab('files')}\r\n                        className={cn(\r\n                            \"px-4 py-2 rounded-lg text-sm font-medium transition-all\",\r\n                            activeTab === 'files'\r\n                                ? \"bg-white/20 text-white\"\r\n                                : \"text-white/60 hover:text-white hover:bg-white/10\"\r\n                        )}\r\n                    >\r\n                        <Paperclip className=\"h-4 w-4 inline mr-2\" />\r\n                        Files\r\n                    </button>\r\n                </div>\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"p-2 rounded-lg hover:bg-white/10 transition-colors\"\r\n                >\r\n                    <X className=\"h-4 w-4 text-white/70\" />\r\n                </button>\r\n            </div>\r\n\r\n            {/* Sidebar Content */}\r\n            <div className=\"flex-1 flex flex-col min-h-0\">\r\n                {activeTab === 'chat' ? (\r\n                    <>\r\n                        {/* Chat Messages */}\r\n                        <div className=\"flex-1 overflow-y-auto p-4 space-y-3 min-h-0\">\r\n                            {chatMessages.length === 0 ? (\r\n                                <div className=\"flex flex-col items-center justify-center h-full text-white/40 text-sm\">\r\n                                    <MessageSquare className=\"h-8 w-8 mb-2\" />\r\n                                    <p>No messages yet</p>\r\n                                    <p className=\"text-xs mt-1\">Start chatting with your peer</p>\r\n                                </div>\r\n                            ) : (\r\n                                chatMessages.map((msg) => {\r\n                                    const isMe = msg.sender === 'You';\r\n                                    return (\r\n                                        <div key={msg.id} className={cn(\r\n                                            \"flex flex-col max-w-[85%] animate-in slide-in-from-bottom-2 fade-in duration-300\",\r\n                                            isMe ? \"ml-auto items-end\" : \"mr-auto items-start\"\r\n                                        )}>\r\n                                            <div className={cn(\r\n                                                \"p-3 rounded-2xl text-sm shadow-sm\",\r\n                                                isMe\r\n                                                    ? \"bg-indigo-600 text-white rounded-br-none\"\r\n                                                    : \"bg-zinc-800 border border-white/10 text-zinc-100 rounded-bl-none\"\r\n                                            )}>\r\n                                                {msg.message}\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-1 mt-1 px-1\">\r\n                                                <span className=\"text-[10px] text-zinc-500 font-medium\">{isMe ? \"You\" : msg.sender}</span>\r\n                                                <span className=\"text-[10px] text-zinc-600\">â€¢</span>\r\n                                                <span className=\"text-[10px] text-zinc-600\">{msg.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Chat Input */}\r\n                        <div className=\"p-4 border-t border-white/10 shrink-0\">\r\n                            <div className=\"flex gap-2\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={chatInput}\r\n                                    onChange={(e) => setChatInput(e.target.value)}\r\n                                    onKeyPress={(e) => {\r\n                                        if (e.key === 'Enter') {\r\n                                            handleSendMessage();\r\n                                        }\r\n                                    }}\r\n                                    placeholder=\"Type a message...\"\r\n                                    className=\"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/20\"\r\n                                />\r\n                                <button\r\n                                    onClick={handleSendMessage}\r\n                                    className=\"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors\"\r\n                                >\r\n                                    <Send className=\"h-4 w-4 text-white\" />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    /* File Sharing Tab */\r\n                    <div className=\"flex-1 p-4 overflow-y-auto\">\r\n                        <div className=\"flex flex-col items-center justify-center h-full text-zinc-500 space-y-4\">\r\n                            <div className=\"h-24 w-24 rounded-full bg-zinc-900/50 flex items-center justify-center border border-white/5 relative group\">\r\n                                <div className=\"absolute inset-0 bg-indigo-500/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                                <Paperclip className=\"h-8 w-8 text-zinc-600 group-hover:text-indigo-400 transition-colors\" />\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <p className=\"text-sm font-medium text-white mb-1\">Share Resources</p>\r\n                                <p className=\"text-xs text-zinc-500 max-w-[200px]\">Securely share files with meeting participants.</p>\r\n                            </div>\r\n\r\n                            <button className=\"px-6 py-2.5 bg-white text-black text-xs font-bold rounded-lg hover:bg-zinc-200 transition-colors shadow-lg shadow-white/5\">\r\n                                Browse Files\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/guru_21/real-meet/client/launch-ui/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Image>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Image\r\n        ref={ref}\r\n        className={cn(\"aspect-square h-full w-full\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Fallback\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC,6KAAoB;QACjB,KAAK;QACL,WAAW,IAAA,qHAAE,EACT,iEACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC,8KAAqB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGjB,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC,iLAAwB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EACT,wEACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 440, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/guru_21/real-meet/client/launch-ui/app/meeting/%5Bcode%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useUser } from \"@clerk/nextjs\";\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { Video, VideoOff, Mic, MicOff, PhoneOff, Wifi, MoreHorizontal, Check, Copy, Loader2, User } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport MeetingSidebar from \"./MeetingSidebar\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\n\r\n// WebRTC Configuration\r\nconst RTC_CONFIG = {\r\n    iceServers: [\r\n        { urls: \"stun:stun.l.google.com:19302\" },\r\n        { urls: \"stun:global.stun.twilio.com:3478\" },\r\n    ],\r\n};\r\n\r\nexport default function MeetingPage() {\r\n    const { user, isLoaded } = useUser();\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const meetingCode = params.code as string;\r\n\r\n    // State\r\n    const [isConnected, setIsConnected] = useState(false);\r\n    const [isPeerConnected, setIsPeerConnected] = useState(false);\r\n    const [localStream, setLocalStream] = useState<MediaStream | null>(null);\r\n    const [remoteStream, setRemoteStream] = useState<MediaStream | null>(null);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [isVideoOff, setIsVideoOff] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n    const [sidebarTab, setSidebarTab] = useState<'chat' | 'files'>('chat');\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const [chatMessages, setChatMessages] = useState<Array<{ sender: string, message: string, timestamp: Date, id: string }>>([]);\r\n    const [chatInput, setChatInput] = useState('');\r\n    const [hasCopied, setHasCopied] = useState(false);\r\n    const [isRemoteVideoOff, setIsRemoteVideoOff] = useState(false);\r\n    const [isRemoteAudioOff, setIsRemoteAudioOff] = useState(false);\r\n    const [remoteUserImage, setRemoteUserImage] = useState<string | null>(null);\r\n\r\n    // Refs\r\n    const peerConnectionRef = useRef<RTCPeerConnection | null>(null);\r\n    const localVideoRef = useRef<HTMLVideoElement>(null);\r\n    const remoteVideoRef = useRef<HTMLVideoElement>(null);\r\n    const socketRef = useRef<Socket | null>(null);\r\n    const initialized = useRef(false);\r\n    const iceCandidatesQueue = useRef<RTCIceCandidate[]>([]);\r\n    const isMutedRef = useRef(false);\r\n    const isVideoOffRef = useRef(false);\r\n\r\n    // --- [LOGIC SECTION - KEPT IDENTICAL] ---\r\n    useEffect(() => {\r\n        if (!isLoaded || !user || !meetingCode || initialized.current) return;\r\n        initialized.current = true;\r\n\r\n        navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n            .then((stream) => {\r\n                setLocalStream(stream);\r\n                if (localVideoRef.current) {\r\n                    localVideoRef.current.srcObject = stream;\r\n                }\r\n                connectSocket(stream);\r\n            })\r\n            .catch((err) => {\r\n                console.error(\"Failed to get media:\", err);\r\n                setError(\"Camera/Microphone access denied\");\r\n            });\r\n\r\n        return () => cleanup();\r\n    }, [isLoaded, user, meetingCode]);\r\n\r\n    useEffect(() => {\r\n        if (remoteStream && remoteVideoRef.current) {\r\n            remoteVideoRef.current.srcObject = remoteStream;\r\n            setTimeout(() => {\r\n                if (remoteVideoRef.current) remoteVideoRef.current.play().catch(console.error);\r\n            }, 100);\r\n        } else if (!remoteStream && remoteVideoRef.current) {\r\n            remoteVideoRef.current.srcObject = null;\r\n        }\r\n    }, [remoteStream]);\r\n\r\n    useEffect(() => {\r\n        if (isSidebarOpen && sidebarTab === 'chat') setUnreadCount(0);\r\n    }, [isSidebarOpen, sidebarTab]);\r\n\r\n    const connectSocket = (currentStream: MediaStream) => {\r\n        if (socketRef.current?.connected) return;\r\n        if (socketRef.current) {\r\n            socketRef.current.removeAllListeners();\r\n            socketRef.current.disconnect();\r\n        }\r\n\r\n        const socketInstance = io(process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001\", {\r\n            path: \"/socket.io/\",\r\n            transports: [\"websocket\"],\r\n            reconnection: false,\r\n            timeout: 10000,\r\n        });\r\n\r\n        socketRef.current = socketInstance;\r\n\r\n        socketInstance.on(\"connect\", () => {\r\n            setIsConnected(true);\r\n            setError(null);\r\n            socketInstance.emit(\"join-room\", { roomId: meetingCode, userId: user!.id });\r\n        });\r\n\r\n        socketInstance.on(\"connect_error\", () => setIsConnected(false));\r\n        socketInstance.on(\"disconnect\", (reason) => {\r\n            setIsConnected(false);\r\n            if (reason === \"io server disconnect\") socketInstance.connect();\r\n        });\r\n\r\n        socketInstance.on(\"room-full\", () => {\r\n            setError(\"Room full. Redirecting...\");\r\n            setTimeout(() => router.push(\"/dashboard\"), 3000);\r\n        });\r\n\r\n        socketInstance.on(\"user-joined\", () => {\r\n            if (!peerConnectionRef.current) initiateCall(currentStream);\r\n\r\n            // Sync media state with the new user\r\n            if (isMutedRef.current) {\r\n                socketInstance.emit('toggle-media', { roomId: meetingCode, kind: 'audio', status: true });\r\n            }\r\n            if (isVideoOffRef.current) {\r\n                socketInstance.emit('toggle-media', {\r\n                    roomId: meetingCode,\r\n                    kind: 'video',\r\n                    status: true,\r\n                    userImage: user?.imageUrl\r\n                });\r\n            }\r\n        });\r\n\r\n        socketInstance.on(\"offer\", (data) => handleReceiveOffer(data, currentStream));\r\n        socketInstance.on(\"answer\", handleReceiveAnswer);\r\n        socketInstance.on(\"ice-candidate\", handleReceiveIceCandidate);\r\n        socketInstance.on(\"user-left\", handleUserLeft);\r\n        socketInstance.on(\"receive-message\", handleReceiveMessage);\r\n\r\n        socketInstance.on(\"media-toggled\", ({ kind, status, senderId, userImage }) => {\r\n            if (kind === 'video') {\r\n                setIsRemoteVideoOff(!status);\r\n                if (userImage) setRemoteUserImage(userImage);\r\n            }\r\n            if (kind === 'audio') setIsRemoteAudioOff(!status);\r\n        });\r\n    };\r\n\r\n    const createPeerConnection = (stream: MediaStream) => {\r\n        if (peerConnectionRef.current) {\r\n            peerConnectionRef.current.close();\r\n        }\r\n        const pc = new RTCPeerConnection(RTC_CONFIG);\r\n        stream.getTracks().forEach((track) => pc.addTrack(track, stream));\r\n\r\n        pc.ontrack = (event) => {\r\n            if (event.streams && event.streams[0]) setRemoteStream(event.streams[0]);\r\n        };\r\n\r\n        pc.onicecandidate = (event) => {\r\n            if (event.candidate && socketRef.current) {\r\n                socketRef.current.emit(\"ice-candidate\", { candidate: event.candidate, roomId: meetingCode });\r\n            }\r\n        };\r\n\r\n        pc.onconnectionstatechange = () => {\r\n            setIsPeerConnected(pc.connectionState === \"connected\");\r\n            if (pc.connectionState === \"disconnected\" || pc.connectionState === \"failed\") {\r\n                setRemoteStream(null);\r\n            }\r\n        };\r\n\r\n        peerConnectionRef.current = pc;\r\n        return pc;\r\n    };\r\n\r\n    const initiateCall = async (stream: MediaStream) => {\r\n        const pc = createPeerConnection(stream);\r\n        try {\r\n            const offer = await pc.createOffer();\r\n            await pc.setLocalDescription(offer);\r\n            socketRef.current?.emit(\"offer\", { offer, roomId: meetingCode });\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const processIceQueue = async () => {\r\n        const pc = peerConnectionRef.current;\r\n        if (!pc || !pc.remoteDescription) return;\r\n        while (iceCandidatesQueue.current.length > 0) {\r\n            const candidate = iceCandidatesQueue.current.shift();\r\n            if (candidate) await pc.addIceCandidate(candidate).catch(console.error);\r\n        }\r\n    };\r\n\r\n    const handleReceiveOffer = async ({ offer }: { offer: RTCSessionDescriptionInit }, stream: MediaStream) => {\r\n        if (peerConnectionRef.current) peerConnectionRef.current.close();\r\n        const pc = createPeerConnection(stream);\r\n        try {\r\n            await pc.setRemoteDescription(new RTCSessionDescription(offer));\r\n            await processIceQueue();\r\n            const answer = await pc.createAnswer();\r\n            await pc.setLocalDescription(answer);\r\n            socketRef.current?.emit(\"answer\", { answer, roomId: meetingCode });\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleReceiveAnswer = async ({ answer }: { answer: RTCSessionDescriptionInit }) => {\r\n        const pc = peerConnectionRef.current;\r\n        if (pc && pc.signalingState !== \"stable\") {\r\n            await pc.setRemoteDescription(new RTCSessionDescription(answer));\r\n            await processIceQueue();\r\n        }\r\n    };\r\n\r\n    const handleReceiveIceCandidate = async ({ candidate }: { candidate: RTCIceCandidate }) => {\r\n        const pc = peerConnectionRef.current;\r\n        if (pc && pc.remoteDescription) {\r\n            await pc.addIceCandidate(new RTCIceCandidate(candidate)).catch(console.error);\r\n        } else {\r\n            iceCandidatesQueue.current.push(new RTCIceCandidate(candidate));\r\n        }\r\n    };\r\n\r\n    const handleUserLeft = () => {\r\n        setRemoteStream(null);\r\n        setIsPeerConnected(false);\r\n        if (peerConnectionRef.current) {\r\n            peerConnectionRef.current.close();\r\n            peerConnectionRef.current = null;\r\n        }\r\n    };\r\n\r\n    const handleReceiveMessage = ({ message, senderName, timestamp }: { message: string, senderName: string, timestamp: string }) => {\r\n        setChatMessages((prev) => [...prev, { sender: senderName, message, timestamp: new Date(timestamp), id: `${Date.now()}-${Math.random()}` }]);\r\n        if (!isSidebarOpen || sidebarTab !== 'chat') setUnreadCount(prev => prev + 1);\r\n    };\r\n\r\n    const sendMessage = (message: string) => {\r\n        if (!message.trim() || !socketRef.current) return;\r\n        const newMessage = { sender: 'You', message, timestamp: new Date(), id: `${Date.now()}-${Math.random()}` };\r\n        setChatMessages((prev) => [...prev, newMessage]);\r\n        socketRef.current.emit('send-message', { roomId: meetingCode, message, senderName: user?.firstName || 'Anonymous' });\r\n    };\r\n\r\n    const cleanup = () => {\r\n        if (localVideoRef.current && localVideoRef.current.srcObject) {\r\n            (localVideoRef.current.srcObject as MediaStream).getTracks().forEach(track => track.stop());\r\n        }\r\n        if (peerConnectionRef.current) {\r\n            peerConnectionRef.current.close();\r\n            peerConnectionRef.current = null;\r\n        }\r\n        if (socketRef.current) {\r\n            socketRef.current.disconnect();\r\n            socketRef.current = null;\r\n        }\r\n        initialized.current = false;\r\n    };\r\n\r\n    const toggleMute = () => {\r\n        if (localStream) {\r\n            localStream.getAudioTracks().forEach((track) => (track.enabled = !track.enabled));\r\n            const newMuted = !isMuted;\r\n            setIsMuted(newMuted);\r\n            isMutedRef.current = newMuted;\r\n            socketRef.current?.emit('toggle-media', { roomId: meetingCode, kind: 'audio', status: !newMuted });\r\n        }\r\n    };\r\n\r\n    const toggleVideo = () => {\r\n        if (localStream) {\r\n            localStream.getVideoTracks().forEach((track) => (track.enabled = !track.enabled));\r\n            const newVideoOff = !isVideoOff;\r\n            setIsVideoOff(newVideoOff);\r\n            isVideoOffRef.current = newVideoOff;\r\n            socketRef.current?.emit('toggle-media', {\r\n                roomId: meetingCode,\r\n                kind: 'video',\r\n                status: !newVideoOff,\r\n                userImage: user?.imageUrl\r\n            });\r\n        }\r\n    };\r\n\r\n    const leaveMeeting = () => {\r\n        cleanup();\r\n        router.push(\"/dashboard\");\r\n    };\r\n\r\n    const copyToClipboard = () => {\r\n        navigator.clipboard.writeText(meetingCode);\r\n        setHasCopied(true);\r\n        setTimeout(() => setHasCopied(false), 2000);\r\n    };\r\n\r\n    // --- [RENDER] ---\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"flex h-screen items-center justify-center bg-[#050505] text-white\">\r\n                <div className=\"text-center space-y-6\">\r\n                    <div className=\"inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-red-500/10 border border-red-500/20 text-red-500\">\r\n                        <Wifi className=\"h-8 w-8\" />\r\n                    </div>\r\n                    <h1 className=\"text-2xl font-bold text-white tracking-tight\">Connection Failed</h1>\r\n                    <p className=\"text-zinc-500\">{error}</p>\r\n                    <button\r\n                        onClick={() => router.push(\"/dashboard\")}\r\n                        className=\"px-8 py-3 bg-white text-black rounded-xl hover:bg-zinc-200 transition font-medium\"\r\n                    >\r\n                        Return to Dashboard\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"relative h-screen w-full bg-[#030303] overflow-hidden font-sans selection:bg-orange-500/30\">\r\n\r\n            {/* --- Background Texture (Consistent with Dashboard) --- */}\r\n            <div className=\"absolute inset-0 pointer-events-none opacity-20\">\r\n                <div className=\"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay\"></div>\r\n            </div>\r\n\r\n            {/* --- TOP LEFT: MEETING INFO PILL --- */}\r\n            <div className=\"absolute top-6 left-6 z-30\">\r\n                <div className=\"group flex items-center gap-0 rounded-xl bg-zinc-900/80 backdrop-blur-md border border-white/10 shadow-xl transition-all hover:border-orange-500/30 overflow-hidden\">\r\n                    <div className=\"px-4 py-2.5 flex flex-col justify-center border-r border-white/5 bg-white/5\">\r\n                        <span className=\"text-[10px] font-bold text-zinc-500 uppercase tracking-widest leading-none mb-1\">Session</span>\r\n                        <span className=\"text-sm font-mono font-bold text-white tracking-widest leading-none\">{meetingCode}</span>\r\n                    </div>\r\n                    <button\r\n                        onClick={copyToClipboard}\r\n                        className=\"h-full px-4 py-2 flex items-center justify-center hover:bg-orange-500/10 transition-colors text-zinc-400 hover:text-orange-400\"\r\n                        title=\"Copy Code\"\r\n                    >\r\n                        {hasCopied ? <Check className=\"h-4 w-4 text-emerald-500\" /> : <Copy className=\"h-4 w-4\" />}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- TOP RIGHT: STATUS INDICATORS --- */}\r\n            <div className=\"absolute top-6 right-6 z-30 flex flex-col items-end gap-2\">\r\n                {isPeerConnected ? (\r\n                    <div className=\"flex items-center gap-2 rounded-full bg-emerald-500/10 backdrop-blur-md px-3 py-1.5 border border-emerald-500/20 shadow-lg\">\r\n                        <div className=\"h-1.5 w-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.8)] animate-pulse\" />\r\n                        <span className=\"text-[10px] font-bold uppercase text-emerald-400 tracking-wider\">Secure Link Active</span>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"flex items-center gap-2 rounded-full bg-amber-500/10 backdrop-blur-md px-3 py-1.5 border border-amber-500/20 shadow-lg\">\r\n                        <Loader2 className=\"h-3 w-3 text-amber-500 animate-spin\" />\r\n                        <span className=\"text-[10px] font-bold uppercase text-amber-400 tracking-wider\">Establishing Link</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* --- MAIN AREA: REMOTE VIDEO OR SEARCHING STATE --- */}\r\n            <div className=\"absolute inset-0 z-0 flex items-center justify-center bg-[#050505]\">\r\n                {remoteStream ? (\r\n                    isRemoteVideoOff ? (\r\n                        <div className=\"flex flex-col items-center justify-center animate-in fade-in duration-500\">\r\n                            <div className=\"relative flex h-32 w-32 items-center justify-center rounded-full bg-zinc-900 border border-white/10 shadow-2xl\">\r\n                                <div className=\"absolute inset-0 rounded-full border border-white/5 animate-pulse\" />\r\n                                <Avatar className=\"h-full w-full border-4 border-zinc-900\">\r\n                                    <AvatarImage src={remoteUserImage || \"\"} className=\"object-cover\" />\r\n                                    <AvatarFallback className=\"bg-zinc-800 text-zinc-400\">\r\n                                        <User className=\"h-12 w-12\" />\r\n                                    </AvatarFallback>\r\n                                </Avatar>\r\n                            </div>\r\n                            <p className=\"mt-6 text-zinc-500 font-medium tracking-wide\">Remote Camera Off</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"relative h-full w-full\">\r\n                            <video\r\n                                ref={remoteVideoRef}\r\n                                autoPlay\r\n                                playsInline\r\n                                className=\"h-full w-full object-cover animate-in fade-in duration-1000\"\r\n                            />\r\n                        </div>\r\n                    )\r\n                ) : (\r\n                    // --- ORANGE THEMED WAITING STATE ---\r\n                    <div className=\"relative flex flex-col items-center justify-center w-full max-w-lg z-10\">\r\n\r\n                        {/* Ambient Glow behind scanner */}\r\n                        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[400px] w-[400px] bg-orange-500/10 blur-[100px] rounded-full pointer-events-none\" />\r\n\r\n                        <div className=\"relative flex items-center justify-center py-16\">\r\n                            {/* Center Node */}\r\n                            <div className=\"relative z-10 flex h-24 w-24 items-center justify-center rounded-full bg-[#0A0A0A] border border-orange-500/20 shadow-[0_0_40px_rgba(249,115,22,0.2)]\">\r\n                                <div className=\"absolute inset-0 rounded-full border border-orange-500/20 animate-[spin_8s_linear_infinite]\" />\r\n                                <div className=\"absolute inset-2 rounded-full border border-amber-500/10 animate-[spin_6s_linear_infinite_reverse]\" />\r\n                                {/* Scanning line */}\r\n                                <div className=\"absolute inset-0 rounded-full overflow-hidden\">\r\n                                    <div className=\"absolute top-0 left-0 w-full h-[2px] bg-orange-500/50 shadow-[0_0_10px_rgba(249,115,22,0.8)] animate-[scan_2s_ease-in-out_infinite]\" />\r\n                                </div>\r\n                                <Wifi className=\"relative h-8 w-8 text-orange-500 animate-ping\" />\r\n                            </div>\r\n\r\n                            {/* Ripples */}\r\n                            <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n                                <div className=\"absolute h-48 w-48 rounded-full border border-orange-500/10 animate-ping [animation-duration:3s]\" />\r\n                                <div className=\"absolute h-64 w-64 rounded-full border border-orange-500/5 animate-ping [animation-duration:3s] [animation-delay:0.5s]\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"text-center space-y-2 relative z-10 mt-[-20px]\">\r\n                            <h2 className=\"text-2xl font-semibold text-white tracking-tight\">\r\n                                Waiting for peer connection\r\n                                <span className=\"animate-pulse\">...</span>\r\n                            </h2>\r\n                            <p className=\"text-zinc-500 text-sm\">\r\n                                Share the session code to begin encrypted transmission.\r\n                            </p>\r\n\r\n                            <div className=\"pt-8\">\r\n                                {/* Copy button removed as requested */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* --- BOTTOM RIGHT: DRAGGABLE LOCAL VIDEO --- */}\r\n            <div className=\"absolute bottom-6 right-6 z-20 h-40 w-28 sm:h-56 sm:w-40 rounded-2xl bg-zinc-900 border border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden transition-all hover:scale-105 hover:border-orange-500/30 group\">\r\n                <video\r\n                    ref={localVideoRef}\r\n                    autoPlay\r\n                    playsInline\r\n                    muted\r\n                    className={cn(\r\n                        \"h-full w-full object-cover mirror-mode\",\r\n                        isVideoOff && \"hidden\"\r\n                    )}\r\n                />\r\n                {isVideoOff && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-zinc-900 border border-white/10 rounded-2xl\">\r\n                        <Avatar className=\"h-16 w-16 border-2 border-zinc-800\">\r\n                            <AvatarImage src={user?.imageUrl} className=\"object-cover\" />\r\n                            <AvatarFallback className=\"bg-zinc-800 text-zinc-400\">You</AvatarFallback>\r\n                        </Avatar>\r\n                    </div>\r\n                )}\r\n                {/* Name Tag & Status */}\r\n                <div className=\"absolute bottom-2 left-2 right-2 flex justify-between items-center z-10\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"px-2 py-1 rounded bg-black/60 backdrop-blur-sm text-[10px] font-medium text-white/90 border border-white/5\">\r\n                            You\r\n                        </div>\r\n                        {isMuted && (\r\n                            <div className=\"p-1 rounded-full bg-red-500/80 backdrop-blur-sm shadow-sm\">\r\n                                <MicOff className=\"h-3 w-3 text-white\" />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- BOTTOM CENTER: CONTROLS BAR --- */}\r\n            <div className=\"absolute bottom-8 left-1/2 z-30 flex -translate-x-1/2 items-center gap-2 p-2 rounded-2xl bg-[#0A0A0A]/90 backdrop-blur-xl border border-white/10 shadow-2xl shadow-black/50\">\r\n\r\n                {/* Mute Toggle */}\r\n                <button\r\n                    onClick={toggleMute}\r\n                    className={cn(\r\n                        \"flex h-12 w-12 items-center justify-center rounded-xl transition-all duration-200\",\r\n                        isMuted\r\n                            ? \"bg-red-500/10 text-red-500 hover:bg-red-500/20 ring-1 ring-red-500/20\"\r\n                            : \"bg-white/5 text-zinc-200 hover:bg-white/10 hover:text-white\"\r\n                    )}\r\n                    title={isMuted ? \"Unmute\" : \"Mute\"}\r\n                >\r\n                    {isMuted ? <MicOff className=\"h-5 w-5\" /> : <Mic className=\"h-5 w-5\" />}\r\n                </button>\r\n\r\n                {/* Video Toggle */}\r\n                <button\r\n                    onClick={toggleVideo}\r\n                    className={cn(\r\n                        \"flex h-12 w-12 items-center justify-center rounded-xl transition-all duration-200\",\r\n                        isVideoOff\r\n                            ? \"bg-red-500/10 text-red-500 hover:bg-red-500/20 ring-1 ring-red-500/20\"\r\n                            : \"bg-white/5 text-zinc-200 hover:bg-white/10 hover:text-white\"\r\n                    )}\r\n                    title={isVideoOff ? \"Start Video\" : \"Stop Video\"}\r\n                >\r\n                    {isVideoOff ? <VideoOff className=\"h-5 w-5\" /> : <Video className=\"h-5 w-5\" />}\r\n                </button>\r\n\r\n                <div className=\"w-px h-8 bg-white/10 mx-1\" />\r\n\r\n                {/* More Options / Chat */}\r\n                <button\r\n                    onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n                    className={cn(\r\n                        \"relative flex h-12 w-12 items-center justify-center rounded-xl transition-all duration-200\",\r\n                        isSidebarOpen\r\n                            ? \"bg-orange-500/20 text-orange-500 ring-1 ring-orange-500/30\"\r\n                            : \"bg-white/5 text-zinc-200 hover:bg-white/10 hover:text-white\"\r\n                    )}\r\n                >\r\n                    <MoreHorizontal className=\"h-5 w-5\" />\r\n                    {unreadCount > 0 && (\r\n                        <span className=\"absolute top-2 right-2 h-2.5 w-2.5 rounded-full bg-orange-500 ring-2 ring-[#0A0A0A] animate-pulse\" />\r\n                    )}\r\n                </button>\r\n\r\n                {/* End Call (Separate and prominent) */}\r\n                <button\r\n                    onClick={leaveMeeting}\r\n                    className=\"ml-2 flex h-12 px-6 items-center justify-center gap-2 rounded-xl bg-red-500 hover:bg-red-600 text-white transition-all shadow-lg shadow-red-500/20 hover:scale-[1.02]\"\r\n                >\r\n                    <PhoneOff className=\"h-5 w-5\" />\r\n                    <span className=\"text-sm font-semibold hidden sm:inline-block\">End</span>\r\n                </button>\r\n            </div>\r\n            {/*  */}\r\n            {/* --- SIDEBAR --- */}\r\n            <MeetingSidebar\r\n                isOpen={isSidebarOpen}\r\n                onClose={() => setIsSidebarOpen(false)}\r\n                activeTab={sidebarTab}\r\n                setActiveTab={setSidebarTab}\r\n                chatMessages={chatMessages}\r\n                chatInput={chatInput}\r\n                setChatInput={setChatInput}\r\n                onSendMessage={sendMessage}\r\n                unreadCount={unreadCount}\r\n            />\r\n\r\n            <style jsx global>{`\r\n                .mirror-mode {\r\n                    transform: scaleX(-1);\r\n                }\r\n            `}</style>\r\n        </div >\r\n    );\r\n}"],"names":[],"mappings":"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"}}]
}